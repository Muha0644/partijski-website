---
import Layout from "@layouts/Layout.astro";
import PocketBase from 'pocketbase';
const pb = new PocketBase('http://bosnaponosna.duckdns.org:1917');

const resultList = await pb.collection('blogovi').getList(1, 50, {expand: "autor, tagovi"});

---

<Layout title="Blog">
	<main>
		{resultList.items.map((blog) => (
				<div class="blog">
					<h2>{blog.naslov}</h2><h4>{(blog.expand.autor as any).name} {blog.created}</h4>
					{blog.tekst}
				</div>
			))}
	</main>
</Layout>
<style>
	main {
		width: 100%;
		display: grid;
		grid-template-columns: 1fr 1fr 1fr;
		/* RAM - repeat auto minmax - da bude responsive */ 
	}
	.blog {
		background-color: var(--bg);
		padding: 1em;
		border-radius: 0.2em;
		transition: 0.2s cubic-bezier(0.215, 0.610, 0.355, 1);
	}
	.blog:hover{
		background-color: var(--focus);
		transition: 0.4s cubic-bezier(0.215, 0.610, 0.355, 1);
	}
</style>
